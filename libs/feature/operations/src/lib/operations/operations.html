<div class="h-full flex flex-col gap-4">
  <!-- Header -->
  <div>
    <h1 class="text-2xl font-semibold text-[#4e2683]" style="font-family: 'Open Sans', sans-serif;">Operations / Alert Queue</h1>
  </div>

  <!-- Filters Bar - Figma Frame 427322904 -->
  <div *ngIf="filters$ | async as filters">
    <div class="flex flex-wrap gap-[16px] items-end">
      <div class="w-[300px]">
        <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] py-[5px]">Search By Alert Id</label>
        <div class="relative">
          <input type="text" [(ngModel)]="selectedAlertId" (ngModelChange)="onFilterChanged()" (keyup.enter)="applyFilters()" placeholder="Placeholder" 
                 class="w-full h-[32px] border border-[#B4BABF] border-b-2 rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] font-normal text-[#17181A] placeholder-[#B4BABF] focus:outline-none focus:ring-1 focus:ring-[#4e2683] pr-[32px]">
          <svg class="w-[24px] h-[24px] absolute right-[8px] top-[4px] text-[#605E5C]" fill="currentColor" viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
        </div>
      </div>
      <div class="w-[100px]">
        <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] py-[5px]">Priority</label>
        <select [(ngModel)]="selectedPriority" (ngModelChange)="onFilterChanged()" class="w-full h-[32px] border border-[#B4BABF] border-b-2 rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] font-normal focus:outline-none focus:ring-1 focus:ring-[#4e2683] appearance-none bg-white bg-[url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2012%2012%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M2.5%204.5L6%208L9.5%204.5%22%20stroke%3D%22%23605E5C%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E')] bg-no-repeat bg-[right_8px_center] bg-[length:12px_12px] pr-[28px]" [ngClass]="{'text-[#B4BABF]': !selectedPriority, 'text-[#17181A]': selectedPriority}">
          <option value="">Select</option>
          <option *ngFor="let p of filters.priorities" [value]="p">{{p}}</option>
        </select>
      </div>
      <div class="w-[180px]">
        <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] py-[5px]">Type</label>
        <select [(ngModel)]="selectedType" (ngModelChange)="onFilterChanged()" class="w-full h-[32px] border border-[#B4BABF] border-b-2 rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] font-normal focus:outline-none focus:ring-1 focus:ring-[#4e2683] appearance-none bg-white bg-[url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2012%2012%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M2.5%204.5L6%208L9.5%204.5%22%20stroke%3D%22%23605E5C%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E')] bg-no-repeat bg-[right_8px_center] bg-[length:12px_12px] pr-[28px]" [ngClass]="{'text-[#B4BABF]': !selectedType, 'text-[#17181A]': selectedType}">
          <option value="">Select</option>
          <option *ngFor="let t of filters.types" [value]="t">{{t}}</option>
        </select>
      </div>
      <div class="w-[120px]">
        <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] py-[5px]">Status</label>
        <select [(ngModel)]="selectedStatus" (ngModelChange)="onFilterChanged()" class="w-full h-[32px] border border-[#B4BABF] border-b-2 rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] font-normal focus:outline-none focus:ring-1 focus:ring-[#4e2683] appearance-none bg-white bg-[url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2012%2012%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M2.5%204.5L6%208L9.5%204.5%22%20stroke%3D%22%23605E5C%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E')] bg-no-repeat bg-[right_8px_center] bg-[length:12px_12px] pr-[28px]" [ngClass]="{'text-[#B4BABF]': !selectedStatus, 'text-[#17181A]': selectedStatus}">
          <option value="">Select</option>
          <option *ngFor="let s of filters.statuses" [value]="s">{{s}}</option>
        </select>
      </div>
      <div class="w-[120px]">
        <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] py-[5px]">Risk Rating</label>
        <select [(ngModel)]="selectedRiskRating" (ngModelChange)="onFilterChanged()" class="w-full h-[32px] border border-[#B4BABF] border-b-2 rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] font-normal focus:outline-none focus:ring-1 focus:ring-[#4e2683] appearance-none bg-white bg-[url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2012%2012%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M2.5%204.5L6%208L9.5%204.5%22%20stroke%3D%22%23605E5C%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E')] bg-no-repeat bg-[right_8px_center] bg-[length:12px_12px] pr-[28px]" [ngClass]="{'text-[#B4BABF]': !selectedRiskRating, 'text-[#17181A]': selectedRiskRating}">
          <option value="">Select</option>
          <option *ngFor="let r of filters.riskRatings" [value]="r">{{r}}</option>
        </select>
      </div>
      <div class="w-[180px]">
        <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] py-[5px]">Line of Business</label>
        <input type="text" [(ngModel)]="selectedLineOfBusiness" (ngModelChange)="onFilterChanged()" (keyup.enter)="applyFilters()" placeholder="CIB" 
               class="w-full h-[32px] border border-[#B4BABF] border-b-2 rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] font-normal text-[#17181A] placeholder-[#B4BABF] focus:outline-none focus:ring-1 focus:ring-[#4e2683]">
      </div>
      
      <div class="flex gap-[8px]">
        <button (click)="applyFilters()" class="h-[32px] px-[16px] bg-[#4E2683] text-white rounded-[4px] font-['Roboto'] font-semibold text-[14px] leading-[20px] hover:opacity-90 transition-opacity">Filter</button>
        <button (click)="resetFilters()" class="h-[32px] px-[16px] bg-[#858D94] text-white rounded-[4px] font-['Roboto'] font-semibold text-[14px] leading-[20px] hover:opacity-90 transition-opacity">Reset</button>
      </div>
      
      <span class="text-[14px] font-semibold text-[#4e2683] leading-[20px] ml-[16px] mb-[6px]" style="font-family: 'Open Sans', sans-serif;">Total {{totalRecords}} record(s).</span>
    </div>
  </div>

  <!-- AG Grid with Toolbar - Figma Frame 427322886 -->
  <div class="flex-1 overflow-hidden flex flex-col bg-white px-[16px] pt-[8px] pb-[16px] rounded-[8px] border border-[#D2D0CE]">
    <!-- Grid Toolbar - Figma: y=8, h=32px, right aligned -->
    <div class="flex justify-end gap-[8px] items-center h-[32px] mb-[16px]">
      <!-- Export Button -->
      <div class="flex gap-[8px] h-[32px] items-center px-[8px] cursor-pointer hover:opacity-80">
        <svg class="size-[24px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16.2 20.5L19 17.7V20H20V16H16V17H18.3L15.5 19.8L16.2 20.5ZM5 21C4.45 21 3.979 20.8043 3.587 20.413C3.19567 20.021 3 19.55 3 19V5C3 4.45 3.19567 3.979 3.587 3.587C3.979 3.19567 4.45 3 5 3H19C19.55 3 20.021 3.19567 20.413 3.587C20.8043 3.979 21 4.45 21 5V11.7C20.6833 11.55 20.3583 11.4207 20.025 11.312C19.6917 11.204 19.35 11.125 19 11.075V5H5V19H11.05C11.1 19.3667 11.1793 19.7167 11.288 20.05C11.396 20.3833 11.525 20.7 11.675 21H5ZM5 18V19V5V11.075V11V18ZM7 17H11.075C11.125 16.65 11.204 16.3083 11.312 15.975C11.4207 15.6417 11.5417 15.3167 11.675 15H7V17ZM7 13H13.1C13.6333 12.5 14.229 12.0833 14.887 11.75C15.5457 11.4167 16.25 11.1917 17 11.075V11H7V13ZM7 9H17V7H7V9ZM18 23C16.6167 23 15.4377 22.5127 14.463 21.538C13.4877 20.5627 13 19.3833 13 18C13 16.6167 13.4877 15.4373 14.463 14.462C15.4377 13.4873 16.6167 13 18 13C19.3833 13 20.5627 13.4873 21.538 14.462C22.5127 15.4373 23 16.6167 23 18C23 19.3833 22.5127 20.5627 21.538 21.538C20.5627 22.5127 19.3833 23 18 23Z" fill="#4E2683"/>
        </svg>
        <span class="text-[14px] font-semibold text-[#4e2683] leading-[20px] whitespace-nowrap" style="font-family: 'Open Sans', sans-serif;">Export</span>
      </div>
      
      <!-- Advance Filter Button -->
      <button (click)="showAdvanceFilters = true" class="flex gap-[8px] h-[32px] items-center px-[8px] cursor-pointer hover:opacity-80">
        <svg class="size-[24px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 18H14V16H10V18ZM3 6V8H21V6H3ZM6 13H18V11H6V13Z" fill="#4E2683"/>
        </svg>
        <span class="text-[14px] font-semibold text-[#4e2683] leading-[20px] whitespace-nowrap" style="font-family: 'Open Sans', sans-serif;">Advance Filter</span>
      </button>
      
      <!-- Bulk Action Button -->
      <div class="flex gap-[8px] h-[32px] items-center px-[8px] cursor-pointer hover:opacity-80">
        <svg class="size-[24px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17 12C14.24 12 12 14.24 12 17C12 19.76 14.24 22 17 22C19.76 22 22 19.76 22 17C22 14.24 19.76 12 17 12ZM18.65 19.35L16.5 17.2V14H17.5V16.79L19.35 18.64L18.65 19.35ZM18 3H14.82C14.4 1.84 13.3 1 12 1C10.7 1 9.6 1.84 9.18 3H6C4.9 3 4 3.9 4 5V20C4 21.1 4.9 22 6 22H12.11C11.52 21.43 11.04 20.75 10.69 20H6V5H8V8H16V5H18V10.08C18.71 10.18 19.38 10.39 20 10.68V5C20 3.9 19.1 3 18 3ZM12 5C11.45 5 11 4.55 11 4C11 3.45 11.45 3 12 3C12.55 3 13 3.45 13 4C13 4.55 12.55 5 12 5Z" fill="#4E2683"/>
        </svg>
        <span class="text-[14px] font-semibold text-[#4e2683] leading-[20px] whitespace-nowrap" style="font-family: 'Open Sans', sans-serif;">Bulk Action</span>
      </div>
    </div>
    
    <!-- Grid - Figma: x=16, y=56 from outer frame -->
    <div class="flex-1 relative">
      <div class="absolute inset-0">
        <ag-grid-angular
          class="ag-theme-quartz h-full w-full"
          [rowData]="gridData$ | async"
          [columnDefs]="colDefs"
          [defaultColDef]="defaultColDef"
          [rowSelection]="'multiple'"
          [pagination]="false" 
          [animateRows]="true"
          [rowBuffer]="20"
          [cacheBlockSize]="100"
          [isExternalFilterPresent]="isExternalFilterPresent"
          [doesExternalFilterPass]="doesExternalFilterPass"
          [getRowStyle]="getRowStyle"
          [suppressRowHoverHighlight]="false"
          (gridReady)="onGridReady($event)"
          (rowDoubleClicked)="onRowDoubleClicked($event)"
        ></ag-grid-angular>
      </div>
    </div>
  </div>
</div>

<!-- Advance Filters Modal -->
<div *ngIf="showAdvanceFilters" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50">
  <div class="advance-filters-panel bg-white h-full w-[488px] shadow-[0px_4.8px_14.4px_0px_rgba(0,0,0,0.18),0px_25.6px_57.6px_0px_rgba(0,0,0,0.22)] flex flex-col relative">
    <!-- Header - Figma: Nav-commands-container -->
    <div class="h-[52px] pt-[12px] px-[24px] flex justify-between items-start border-[#EDEBE9]">
      <h2 class="text-[20px] font-normal text-[#4E2683] leading-[28px]" style="font-family: 'Open Sans', sans-serif;">Advance Filters</h2>
      <button (click)="showAdvanceFilters = false" class="w-[44px] h-[44px] flex items-center justify-center text-[#605E5C] hover:text-[#3B3A39] -mt-[8px] -mr-[12px]">
        <svg class="w-[12px] h-[12px]" fill="currentColor" viewBox="0 0 12 12">
          <path d="M11.4 0.6L6 6L0.6 0.6L0 1.2L5.4 6.6L0 12L0.6 12.6L6 7.2L11.4 12.6L12 12L6.6 6.6L12 1.2L11.4 0.6Z"/>
        </svg>
      </button>
    </div>
    
    <!-- Scrollable Content - Figma: Frame 427322910 -->
    <div class="flex-1 overflow-y-auto px-[24px] pt-0 pb-[8px]">
      <div class="flex flex-col gap-[8px]">
        <!-- Alert Id -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Alert Id (Comma separated)</label>
          <textarea [(ngModel)]="advanceFilters.alertIds" rows="3" placeholder="Enter comma separated Alert ID for advance filter." 
                    class="w-[440px] h-[64px] border border-[#B4BABF] rounded-[4px] px-[8px] py-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] placeholder-[#B4BABF] focus:outline-none focus:ring-1 focus:ring-[#4E2683] resize-none"></textarea>
        </div>
        
        <!-- Type -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Type</label>
          <div class="relative w-[300px]">
            <select [(ngModel)]="advanceFilters.type" class="advance-filter-select w-full h-[32px] border border-[#B4BABF] rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] focus:outline-none focus:ring-1 focus:ring-[#4E2683] appearance-none bg-white pr-[32px]">
              <option value="" class="text-[#B4BABF]">Placeholder</option>
              <option *ngFor="let t of (filters$ | async)?.types" [value]="t">{{t}}</option>
            </select>
            <svg class="absolute right-[8px] top-[8px] w-[12px] h-[16px] pointer-events-none text-[#605E5C]" viewBox="0 0 12 12" fill="none">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        
        <!-- Date Range -->
        <div class="flex gap-[40px]">
          <div class="advance-filter-field w-[200px]">
            <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">From Generated Date</label>
            <div class="relative">
              <input type="date" [(ngModel)]="advanceFilters.fromDate" [max]="todayDate"
                     class="w-full h-[32px] border border-[#B4BABF] rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] focus:outline-none focus:ring-1 focus:ring-[#4E2683]">
            </div>
          </div>
          <div class="advance-filter-field w-[200px]">
            <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">To Generated Date</label>
            <div class="relative">
              <input type="date" [(ngModel)]="advanceFilters.toDate" [max]="todayDate"
                     class="w-full h-[32px] border border-[#B4BABF] rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] focus:outline-none focus:ring-1 focus:ring-[#4E2683]">
            </div>
          </div>
        </div>
        
        <!-- Priority -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Priority</label>
          <div class="relative w-[300px]">
            <select [(ngModel)]="advanceFilters.priority" class="advance-filter-select w-full h-[32px] border border-[#B4BABF] rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] focus:outline-none focus:ring-1 focus:ring-[#4E2683] appearance-none bg-white pr-[32px]">
              <option value="" class="text-[#B4BABF]">Placeholder</option>
              <option *ngFor="let p of (filters$ | async)?.priorities" [value]="p">{{p}}</option>
            </select>
            <svg class="absolute right-[8px] top-[8px] w-[12px] h-[16px] pointer-events-none text-[#605E5C]" viewBox="0 0 12 12" fill="none">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        
        <!-- Status -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Status</label>
          <div class="relative w-[300px]">
            <select [(ngModel)]="advanceFilters.status" class="advance-filter-select w-full h-[32px] border border-[#B4BABF] rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] focus:outline-none focus:ring-1 focus:ring-[#4E2683] appearance-none bg-white pr-[32px]">
              <option value="" class="text-[#B4BABF]">Placeholder</option>
              <option *ngFor="let s of (filters$ | async)?.statuses" [value]="s">{{s}}</option>
            </select>
            <svg class="absolute right-[8px] top-[8px] w-[12px] h-[16px] pointer-events-none text-[#605E5C]" viewBox="0 0 12 12" fill="none">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        
        <!-- Jurisdiction -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Jurisdiction</label>
          <div class="relative w-[300px]">
            <select [(ngModel)]="advanceFilters.jurisdiction" class="advance-filter-select w-full h-[32px] border border-[#B4BABF] rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] focus:outline-none focus:ring-1 focus:ring-[#4E2683] appearance-none bg-white pr-[32px]">
              <option value="" class="text-[#B4BABF]">Placeholder</option>
              <option *ngFor="let j of (filters$ | async)?.jurisdictions" [value]="j">{{j}}</option>
            </select>
            <svg class="absolute right-[8px] top-[8px] w-[12px] h-[16px] pointer-events-none text-[#605E5C]" viewBox="0 0 12 12" fill="none">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        
        <!-- Risk Rating -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Risk Rating</label>
          <div class="relative w-[300px]">
            <select [(ngModel)]="advanceFilters.riskRating" class="advance-filter-select w-full h-[32px] border border-[#B4BABF] rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] focus:outline-none focus:ring-1 focus:ring-[#4E2683] appearance-none bg-white pr-[32px]">
              <option value="" class="text-[#B4BABF]">Placeholder</option>
              <option *ngFor="let r of (filters$ | async)?.riskRatings" [value]="r">{{r}}</option>
            </select>
            <svg class="absolute right-[8px] top-[8px] w-[12px] h-[16px] pointer-events-none text-[#605E5C]" viewBox="0 0 12 12" fill="none">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        
        <!-- Score Range - Figma: Frame 427322915 -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Score Range</label>
          <div class="flex items-center gap-[8px] h-[36px] w-[358px]">
            <span class="text-[14px] font-normal text-[#605E5C] w-[24px] text-left shrink-0" style="font-family: 'Open Sans', sans-serif;">{{advanceFilters.scoreMin}}</span>
            <div class="score-range-slider flex-1 relative h-[16px]">
              <!-- Track Background - Green (outside range) -->
              <div class="absolute w-full h-[4px] bg-[#22C55E] rounded-full top-1/2 -translate-y-1/2"></div>
              <!-- Active Track - Purple (selected range between min and max) -->
              <div class="absolute h-[4px] bg-[#4E2683] rounded-full top-1/2 -translate-y-1/2" 
                   [style.left.%]="(advanceFilters.scoreMin / 300) * 100"
                   [style.width.%]="((advanceFilters.scoreMax - advanceFilters.scoreMin) / 300) * 100"></div>
              <!-- Min Thumb -->
              <input type="range" 
                     [(ngModel)]="advanceFilters.scoreMin" 
                     min="0" max="300" step="1"
                     (input)="onScoreMinChange(+$event.target.value)"
                     class="advance-filter-range-input score-min-input absolute w-full h-[16px] appearance-none bg-transparent cursor-pointer">
              <!-- Max Thumb -->
              <input type="range" 
                     [(ngModel)]="advanceFilters.scoreMax" 
                     min="0" max="300" step="1"
                     (input)="onScoreMaxChange(+$event.target.value)"
                     class="advance-filter-range-input score-max-input absolute w-full h-[16px] appearance-none bg-transparent cursor-pointer">
            </div>
            <span class="text-[14px] font-normal text-[#605E5C] w-[28px] shrink-0" style="font-family: 'Open Sans', sans-serif;">{{advanceFilters.scoreMax}}</span>
          </div>
        </div>
        
        <!-- Rules Applied - Figma: Frame 427322916 -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center"># Rules Applied</label>
          <div class="flex items-center gap-[8px] h-[28px] w-[358px]">
            <div class="flex-1 relative h-[16px]">
              <!-- Track Background -->
              <div class="absolute w-full h-[4px] bg-[#EDEBE9] rounded-full top-1/2 -translate-y-1/2"></div>
              <!-- Active Track - Green -->
              <div class="absolute h-[4px] bg-[#22C55E] rounded-full top-1/2 -translate-y-1/2" 
                   [style.width.%]="(advanceFilters.rulesApplied / 20) * 100"></div>
              <input type="range" 
                     [(ngModel)]="advanceFilters.rulesApplied" 
                     min="0" max="20" 
                     class="advance-filter-range-input absolute w-full h-[16px] appearance-none bg-transparent cursor-pointer">
            </div>
            <span class="text-[14px] font-normal text-[#605E5C] w-[24px] text-right shrink-0" style="font-family: 'Open Sans', sans-serif;">{{advanceFilters.rulesApplied < 10 ? '0' : ''}}{{advanceFilters.rulesApplied}}</span>
          </div>
        </div>
        
        <!-- Line of Business -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Line of Business</label>
          <div class="relative w-[300px]">
            <select [(ngModel)]="advanceFilters.lineOfBusiness" class="advance-filter-select w-full h-[32px] border border-[#B4BABF] rounded-[4px] px-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] focus:outline-none focus:ring-1 focus:ring-[#4E2683] appearance-none bg-white pr-[32px]">
              <option value="" class="text-[#B4BABF]">Select...</option>
              <option *ngFor="let l of (filters$ | async)?.linesOfBusiness" [value]="l">{{l}}</option>
            </select>
            <svg class="absolute right-[8px] top-[8px] w-[12px] h-[16px] pointer-events-none text-[#605E5C]" viewBox="0 0 12 12" fill="none">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        
        <!-- Client Name -->
        <div class="advance-filter-field">
          <label class="block font-['Open_Sans'] font-semibold text-[14px] leading-[20px] text-[#5C6166] h-[30px] flex items-center">Client Name (Pipe "|" separated)</label>
          <textarea [(ngModel)]="advanceFilters.clientNames" rows="3" placeholder="Enter pipe separated Client Name for advance filter." 
                    class="w-[440px] h-[64px] border border-[#B4BABF] rounded-[4px] px-[8px] py-[8px] text-[14px] font-['Open_Sans'] text-[#605E5C] placeholder-[#B4BABF] focus:outline-none focus:ring-1 focus:ring-[#4E2683] resize-none"></textarea>
        </div>
      </div>
    </div>
    
    <!-- Fixed Footer with Action Buttons - Figma: Footer-container -->
    <div class="h-[80px] px-[24px] pt-[24px] pb-[24px] bg-white border-[#EDEBE9]">
      <div class="flex gap-[16px]">
        <button (click)="applyAdvanceFilters()" class="h-[32px] px-[16px] bg-[#4E2683] text-white rounded-[4px] font-['Roboto'] font-semibold text-[14px] leading-[20px] hover:opacity-90 transition-opacity">Apply</button>
        <button (click)="resetAdvanceFilters()" class="h-[32px] px-[16px] bg-[#858D94] text-white rounded-[4px] font-['Roboto'] font-semibold text-[14px] leading-[20px] hover:opacity-90 transition-opacity">Reset</button>
      </div>
    </div>
  </div>
</div>

